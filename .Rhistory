getwd()
quit()
quit()
quit()
quit()
quit()
q()
y<-c(0,0,1)
x<-c(0,0,0.5)
glm(y~x)
glm(y)
glm(y~0)
m<-glm(y~0)
predict(y)
?predict
predict(m,newdata=1,type="response")
a<-predict(m,newdata=1,type="response")
a
a<-predict(m,newdata=c(0,1),type="response")
quit()
source('~/Documents/GitHub/COVID19/model_master.R')
getwd()
setwd("Documents/GitHub/COVID19")
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
Hout
H
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
Dout[,maxt]/Nout[,maxt]
Dout[,maxt]/Icumout[,maxt]
percent_infected
percent_infected[,maxt]
df.Marion$D[maxt]
t_dates<-seq(as.Date("2020-02-05"),as.Date("2020-12-01"),by="day")
t_dates
t_dates<-seq(as.Date("2020-02-05"),as.Date("2020-11-29"),by="day")
t_dates<-seq(as.Date("2020-02-05"),as.Date("2020-11-30"),by="day")
df.Marion<-df.Marion%>%add_column(t_dates)
df.Marion<-df.Marion%>%bind_column(t_dates)
df.Marion<-df.Marion%>%bind_columns(t_dates)
library(tibble)
df.Marion<-df.Marion%>%bind_columns(t_dates)
df.Marion<-df.Marion%>%add_column(t_dates)
t_dates<-seq(as.Date("2020-02-05"),as.Date("2020-12-01"),by="day")
df.Marion<-df.Marion%>%add_column(t_dates)
ggplot(df.Marion,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(seq(0,120000,10000)))
ylbls<-c("0","10K","20K","30K","40K","50K","60K","70K","80K","90K","100K","110K","120K")
ggplot(df.Marion,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(seq(0,120000,10000)),labels=ylbls)
ggplot(df.Marion,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(seq(0,120000,10000)),labels=ylbls)+scale_x_date(labels=date_format("%m"))
ggplot(df.Marion,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(seq(0,120000,10000)),labels=ylbls)+scale_x_date(date_breaks="1 month",date_labels="%b")
ggplot(df.Marion,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(seq(0,120000,10000)),labels=ylbls)+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Marion County, R=2.8, no intervention")
D[49,maxt]
Dout[49,maxt]
max(Hout[49,])
max(Cout[49,])
ggsave("Marion_R2.8_0rdxn.png")
ggplot(df.Indiana,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(0,8e5,1e5)),labels=c("0","100K","200K","300K","400K","500K","600K","800K")+scale_x_date(date_breaks="1 month",date_labels=%b)+ggtitle("Indiana, R=2.8, no intervention")
ggplot(df.Indiana,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(0,8e5,1e5)),labels=c("0","100K","200K","300K","400K","500K","600K","800K")+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Indiana, R=2.8, no intervention")
ggplot(df.Indiana,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(0,8e5,1e5)),labels=c("0","100K","200K","300K","400K","500K","600K","800K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Indiana, R=2.8, no intervention")
ggplot(df.Indiana,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(0,8e5,1e5),labels=c("0","100K","200K","300K","400K","500K","600K","800K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Indiana, R=2.8, no intervention")
ggplot(df.Indiana,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(0,8e5,1e5),labels=c("0","100K","200K","300K","400K","500K","600K","700K","800K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Indiana, R=2.8, no intervention")
ggplot(df.Indiana,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=seq(0,8e5,1e5),labels=c("0","100K","200K","300K","400K","500K","600K","700K","800K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Indiana, R=2.8, no intervention")
D[93,maxt]
Dout[93,maxt]
Hout[93,maxt]
max(Hout[93,])
max(Cout[93,])
ggsave("Indiana_R2.8_0rdxn.png")
source('~/Documents/GitHub/COVID19/model_master.R')
ggplot(df.Marion,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(seq(0,70000,10000)),labels=c("0","10K","20K","30K","40K","50K","60K","70K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Marion County, R=2.8, 25% reduction")
t_dates<-seq(as.Date("2020-02-05"),as.Date("2020-12-01"),by="day")
df.Marion<-df.Marion%>%add_column(t_dates)
ggplot(df.Marion,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(seq(0,70000,10000)),labels=c("0","10K","20K","30K","40K","50K","60K","70K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Marion County, R=2.8, 25% reduction")
ggsave("Marion_R2.8_25rdxn.png")
Dout[49,maxt]
percent_infected[,maxt]
ggplot(df.Indiana,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=seq(0,8e5,1e5),labels=c("0","100K","200K","300K","400K","500K","600K","700K","800K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Indiana, R=2.8, 25% reduction")
ggsave("Indiana_R2.8_25rdxn.png")
source('~/Documents/GitHub/COVID19/model_master.R')
t_dates<-seq(as.Date("2020-02-05"),as.Date("2020-12-01"),by="day")
ggplot(df.Marion,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(seq(0,70000,10000)),labels=c("0","10K","20K","30K","40K","50K","60K","70K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Marion County, R=2.8, 25% reduction")
ggplot(df.Marion,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(seq(0,70000,10000)),labels=c("0","10K","20K","30K","40K","50K","60K","70K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Marion County, R=2.8, 50% reduction")
ggplot(df.Marion,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=c(seq(0,20000,2000)),labels=c("0","2K","4K","6K","8K","10K","12K","14K","16K","18K","20K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Marion County, R=2.8, 50% reduction")
ggsave("Marion_R2.8_50rdxn.png")
ggplot(df.Indiana,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=seq(0,8e5,1e5),labels=c("0","100K","200K","300K","400K","500K","600K","700K","800K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Indiana, R=2.8, 25% reduction")
ggplot(df.Indiana,aes(x=t_dates))+geom_line(aes(y=I,color="infectious"))+geom_line(aes(y=H,color="hospitalized"))+geom_line(aes(y=C,color="critical"))+geom_line(aes(y=D,color="deceased"))+scale_y_continuous(breaks=seq(0,13e4,1e4),labels=c("0","10K","20K","30K","40K","50K","60K","70K","80K","90K","100K","110K","120K","130K"))+scale_x_date(date_breaks="1 month",date_labels="%b")+ggtitle("Indiana, R=2.8, 50% reduction")
ggsave("Indiana_R2.8_50rdxn.png")
Icumout[,maxt]/N[,maxt]
Icumout[,maxt]/Nout[,maxt]
mean(Icumout[,maxt]/Nout[,maxt])
source('~/Documents/GitHub/COVID19/model_master.R')
Dout[,maxt]/Icumout[,maxt]
source('~/Documents/GitHub/COVID19/model_master.R')
Dout[,maxt]/Icumout[,maxt]
source('~/Documents/GitHub/COVID19/model_master.R')
Dout[,maxt]/Icumout[,maxt]
0.18/0.65
0.65/1.8
1.8/0.65
source('~/Documents/GitHub/COVID19/model_master.R')
Dout[,maxt]/Icumout[,maxt]
0.02/0.0065
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
max(Cout[ncounties,])
Dout[ncounties,maxt]
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
Dout[ncounties,maxt]
Dout[,maxt]/Icumout[,maxt]
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
format(1e3,ndigits=6)
format(1e4,ndigits=6)
dir()
rm(list=ls())
us_states<-read_csv("us-states.csv")
nrow(us_states)
source('~/Documents/GitHub/COVID19/special_plot.R')
source('~/Documents/GitHub/COVID19/special_plot.R')
str(change_week)
str(dum$cases)
str(nprev)
source('~/Documents/GitHub/COVID19/special_plot.R')
i
dum$cases[i]
state_name
str(us_states)
str(dum2)
nrow(us_states)
dum
source('~/Documents/GitHub/COVID19/special_plot.R')
nrow(dum)
nrow(change_week)
source('~/Documents/GitHub/COVID19/special_plot.R')
source('~/Documents/GitHub/COVID19/special_plot.R')
source('~/Documents/GitHub/COVID19/special_plot.R')
source('~/Documents/GitHub/COVID19/special_plot.R')
geom(us_states,aes(x=cases))+geom_line(aes(group=state,y=dum2))
ggplot(us_states,aes(x=cases))+geom_line(aes(group=state,y=dum2))
ggplot(us_states,aes(x=cases))+geom_line(aes(group=state,y=dum2))+scale_x_log10()+scale_y_log10()
ggplot(us_states,aes(x=cases))+geom_line(aes(group=state,y=dum2,color=state))+scale_x_log10()+scale_y_log10()
ggplot(us_states,aes(x=cases))+geom_line(aes(group=state,y=dum2))+scale_x_log10()+scale_y_log10()
us_states[us_states==0]<-NA
ggplot(us_states,aes(x=cases))+geom_line(aes(group=state,y=dum2))+scale_x_log10()+scale_y_log10()
ggplot(us_states,aes(x=cases))+geom_line(aes(group=state,y=dum2))+scale_x_log10()+scale_y_log10()+geom_line(data=us_states%>%filter(state="Indiana"),aes(x=cases,y=dum2,color="Indiana"))
ggplot(us_states,aes(x=cases))+geom_line(aes(group=state,y=dum2))+scale_x_log10()+scale_y_log10()+geom_line(data=us_states%>%filter(state=="Indiana"),aes(x=cases,y=dum2,color="Indiana"))
us_states%>%filter(state="New Jersey")
us_states%>%filter(state=="New Jersey")
us_states%>%filter(state=="New Jersey")%>%arrange(date)
source('~/Documents/GitHub/COVID19/special_plot.R')
source('~/Documents/GitHub/COVID19/special_plot.R')
source('~/Documents/GitHub/COVID19/special_plot.R')
dum<-us_states%>%filter(state=="Montana")%>%arrange(date)
dum
nrow(dum)
dum$cases[8]
dum$cases[1]
dum$cases[7]
dum$cases[-1]
for (i in 8:nrow(dum)) {print(dum$cases[i]-dum$cases[i-7])}
source('~/Documents/GitHub/COVID19/special_plot.R')
source('~/Documents/GitHub/COVID19/special_plot.R')
source('~/Documents/GitHub/COVID19/special_plot.R')
source('~/Documents/GitHub/COVID19/special_plot.R')
us_states%>%filter(state=="Montana")
source('~/Documents/GitHub/COVID19/special_plot.R')
us_states%>%filter(state=="Montana")
source('~/Documents/GitHub/COVID19/special_plot.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
format(Sout[1,],digits=7)
format(Sout[1,],digits=7,nsmall=0)
format(round(Sout[1,]),digits=7)
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
traceback()
source('~/Documents/GitHub/COVID19/model_master.R')
special_plot
source("special_plot.R")
us_states%>%filter(state=="New Jersey")
dum2
change_week
dum<-us_states%>%filter(state=="New Jersey")%>%arrange(date)
dum
dum$cases[1]
dum$cases[8]
change_week<-c(rep(NA,nrow(dum)))
length(change_week)
nrow(dum)
source('~/Documents/GitHub/COVID19/special_plot.R')
dum<-us_states%>%filter(state=="New Jersey")%>%arrange(date)
dum
source('~/Documents/GitHub/COVID19/special_plot.R')
source('~/Documents/GitHub/COVID19/special_plot.R')
View(dum)
View(dum)
View(us_states)
View(us_states)
source('~/Documents/GitHub/COVID19/special_plot.R')
ggsave('special_plot.png')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
Dout[,maxt]/Icumout[,maxt]
Dout[,maxt]
source('~/Documents/GitHub/COVID19/model_master.R')
Dout[,maxt]
Dout[,maxt]/Icumout[,maxt]
6/16
0.02/0.375
0.02*0.375
source('~/Documents/GitHub/COVID19/model_master.R')
Dout[,maxt]/Icumout[,maxt]
Dout[,maxt]/Icumout[,maxt]
Dout[,maxt]
source('~/Documents/GitHub/COVID19/model_master.R')
Dout[,maxt]
Dout[,maxt]/Icumout[,maxt]
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
Dout[,maxt]/Icumout[,maxt]
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
source('~/Documents/GitHub/COVID19/model_master.R')
quit()
