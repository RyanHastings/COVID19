getwd()
quit()
quit()
quit()
quit()
quit()
q()
y<-c(0,0,1)
x<-c(0,0,0.5)
glm(y~x)
glm(y)
glm(y~0)
m<-glm(y~0)
predict(y)
?predict
predict(m,newdata=1,type="response")
a<-predict(m,newdata=1,type="response")
a
a<-predict(m,newdata=c(0,1),type="response")
quit()
source('~/Documents/GitHub/COVID19/model_master.R')
setwd("~/Documents/GitHub/COVID19/model_master.R")
getwd()
setwd("~/Documents/GitHub/COVID19/model_master.R")
setwd("Users/convect/Documents/GitHub/COVID19/model_master.R")
quit()
setwd("Documents/GitHub/COVID19/model_v3.9]0")
setwd("Documents/GitHub/COVID19/model_v3.0")
source('~/Documents/GitHub/COVID19/model_v3.0/District3Fit.R')
source('~/Documents/GitHub/COVID19/model_v3.0/DetermineDistrictStateSpace.R')
source('~/Documents/GitHub/COVID19/model_v3.0/DetermineDistrictStateSpace.R')
source('~/Documents/GitHub/COVID19/model_v3.0/District3Fit.R')
source('~/Documents/GitHub/COVID19/model_v3.0/District3Fit.R')
source('~/Documents/GitHub/COVID19/model_v3.0/District3Fit.R')
source('~/Documents/GitHub/COVID19/model_v3.0/DetermineDistrictStateSpace.R')
source('~/Documents/GitHub/COVID19/model_v3.0/DetermineDistrictStateSpace.R')
source('~/Documents/GitHub/COVID19/model_v3.0/District3Fit.R')
df.temp
df.temp[10,]
df.temp[1:10,]
print( ggplot(D.frame,aes(x=R0))+geom_histogram(binwidth=0.05)+xlim(R0_vec[1]-0.05,R0_vec[length(R0_vec)+0.05]) )+ggtitle(paste('district',n))
D.frame<-read_csv("out/District9_simulation.csv")
D.frame<-read_csv("out/20200505/District9_simulation.csv")
getwd()
D.frame<-read_csv("out/20200506/District9_simulation.csv")
df.deaths<-read_csv("out/20200506/District9_hosp.csv")
df.crit<-read_csv("out/20200506/District9_ICU.csv")
ggplot()+geom_point(data=df.ICU,aes(x=Dates,y=DeathCount))+geom_line()
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=DeathCount))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Critical))
plt<-ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Critical))
plt<-plt+geom_line(data=D.frame%>%filter(rank==2),aes(x=Dates,y=Critical))
print(plt)
D.frame[1,]
plt2<-ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Date-,y=Critical))
plt2<-ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Date,y=Critical))
print(plt2)
plt2<-ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Critical))
print(plt2)
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==2),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==3),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==4),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==5),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==6),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==7),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==8),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==9),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==10),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==11),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==12),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==13),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==14),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank>=15&rank<20),aes(x=Dates,y=Critical,group=rank,color=rank))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank>=15&rank<20),aes(x=Dates,y=Critical,group=rank,color=rank))+scale_color_viridis(discrete=TRUE)
D.frame$rank<-as.factor(D.frame$rank)
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank>=15&rank<20),aes(x=Dates,y=Critical,group=rank,color=rank))+scale_color_viridis(discrete=TRUE)
D.frame$rank<-as.factor(D.frame$rank,ordered=TRUE)
D.frame$rank<-as.integer(D.frame$rank)
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank>=15&rank<20),aes(x=Dates,y=Critical,group=rank,color=rank))+scale_color_viridis(discrete=TRUE)
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank>=15&rank<20),aes(x=Dates,y=Critical,group=rank,color=rank))
df.hosp<-df.deaths
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1,2),aes(x=Dates,y=Critical,group=rank,color=rank))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1,2,3,4,5),aes(x=Dates,y=Critical,group=rank,color=rank))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank in c(1,2,3,4,5)),aes(x=Dates,y=Critical,group=rank,color=rank))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank %in% c(1,2,3,4,5)),aes(x=Dates,y=Critical,group=rank,color=rank))
df.hosp<-read_csv("out/20200506/District9_hosp.csv")
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank %in% c(1,2,3,4,5)),aes(x=Dates,y=Critical,group=rank,color=rank))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank %in% c(1,2,3,4,5)),aes(x=Dates,y=Critical,group=rank,color=rank))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank %in% c(1,2,3,4,5)),aes(x=Dates,y=Hospitalized,group=rank,color=rank))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Hospitalized,group=rank,color=rank))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==2),aes(x=Dates,y=Hospitalized,group=rank,color=rank))
D.frame[2,]
D.frame<-read_csv("out/20200506/District8_simulation.csv")
df.crit<-read_csv("out/20200506/District8_ICU.csv")
ggplot()+geom_point(df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame,aes(x=Dates,y=Critical))
ggplot()+geom_point(df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==2),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==3
),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==4),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==5),aes(x=Dates,y=Critical))
df.hosp<-read_csv("out/20200506/District8_hosp.csv")
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==2),aes(x=Dates,y=Hospitalized))
D.frame[1,]
D.frame<-read_csv("out/20200506/District7_simulation.csv")
D.frame[1,]
D.frame<-read_csv("out/20200506/District6_simulation.csv")
df.crit<-read_csv("out/20200506/District6_ICU.csv")
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Critical))
df.hosp<-read_csv("out/20200506/District6_hosp.csv")
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Hospitalized))
D.frame[1,]
D.frame<-read_csv("out/20200506/District5_simulation.csv")
df.crit<-read_csv("out/20200506/District5_ICU.csv")
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank %in% c(1,2,3,4,5)),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank %in% c(6,7,8,9,10)),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==10),aes(x=Dates,y=Critical))
df.hosp<-read_csv("out/20200506/District5_hosp.csv")
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==10),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==10),aes(x=Dates,y=Hospitalized))
D.frame[10,]
source('~/Documents/GitHub/COVID19/model_v3.0/District3Fit.R')
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame,aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Hospitalized))
D.frame[1,]
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==2),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==3),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==4),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==5),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==10),aes(x=Dates,y=Hospitalized))
D.frame[10,]
D.frame<-read_csv("out/20200506/District4_simulations.csv")
D.frame<-read_csv("out/20200506/District4_simulation.csv")
source('~/Documents/GitHub/COVID19/model_v3.0/District3Fit.R')
D.frame[1,]
source('~/Documents/GitHub/COVID19/model_v3.0/District3Fit.R')
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==1),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==2),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==5),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.crit,aes(x=Dates,y=C))+geom_line(data=D.frame%>%filter(rank==10),aes(x=Dates,y=Critical))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==10),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==20),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==15),aes(x=Dates,y=Hospitalized))
ggplot()+geom_point(data=df.hosp,aes(x=Dates,y=H))+geom_line(data=D.frame%>%filter(rank==25),aes(x=Dates,y=Hospitalized))
D.frame[10,]
source('~/Documents/GitHub/COVID19/model_v3.0/DetermineDistrictStateSpace.R')
source('~/Documents/GitHub/COVID19/model_v3.0/District3Fit.R')
D.frame[1,]
setwd("../model_v3.0")
source('~/Documents/GitHub/COVID19/model_v2.0/model_master.R')
source('~/Documents/GitHub/COVID19/model_v2.0/model_master.R')
setwd("../model_v2.0")
source('~/Documents/GitHub/COVID19/model_v2.0/model_master.R')
source('~/Documents/GitHub/COVID19/model_v2.0/model_master.R')
setwd("../model_v3.0")
source('~/Documents/GitHub/COVID19/model_v3.0/DetermineDistrictStateSpacePhaseTwo.R')
source('~/Documents/GitHub/COVID19/model_v3.0/DetermineDistrictStateSpacePhaseTwo.R')
source('~/Documents/GitHub/COVID19/model_v3.0/District3FitPhaseTwo.R')
dim(StateSpace)
dim(DeathByDistrict)
n
tt
dim(StateSpace[,,,4,t])
dim(DeathByDistrict[n,tt])
tt
DeathByDistrict
DeathByDistrict[n,tt]
StateSpace[,,,4,t]-DeathByDistrict[n,tt]
D1
dim(D1)
dim(StateSpace)
dim(StateSpace[,,,4,t])
source('~/Documents/GitHub/COVID19/model_v3.0/DetermineDistrictStateSpacePhaseTwo.R')
source('~/Documents/GitHub/COVID19/model_v3.0/Fit3curvesPhaseTwo.R')
source('~/Documents/GitHub/COVID19/model_v3.0/Fit3curvesPhaseTwo.R')
hosp_date2
hosp_date1
length(H.obs)
h1
h2
108-80
source('~/Documents/GitHub/COVID19/model_v3.0/Fit3curvesPhaseTwo.R')
source('~/Documents/GitHub/COVID19/model_v3.0/District3FitPhaseTwo.R')
source('~/Documents/GitHub/COVID19/model_v3.0/DetermineDistrictStateSpacePhaseTwo.R')
source('~/Documents/GitHub/COVID19/model_v3.0/DetermineDistrictStateSpacePhaseTwo.R')
source('~/Documents/GitHub/COVID19/model_v3.0/District3FitPhaseTwo.R')
source('~/Documents/GitHub/COVID19/model_v3.0/District3FitPhaseTwo.R')
traceback()
source('~/Documents/GitHub/COVID19/model_v3.0/District3FitPhaseTwo.R')
source('~/Documents/GitHub/COVID19/model_v3.0/District3FitPhaseTwo.R')
source('~/Documents/GitHub/COVID19/model_v3.0/District3FitPhaseTwo.R')
restart()
quit()
